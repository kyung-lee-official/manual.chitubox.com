import { Entry } from "@/docComponents/entry/Entry";
import { ImageGray } from "@/docComponents/imageGray/ImageGray";
import { AddMachineIcon } from "@/components/icons/ChituboxProIcons";
import { Collapse } from "@/components/collapse/Collapse";
import { Tsmc } from "@/docComponents/tsmc/Tsmc";

export const metadata = {
	title: "列印機設定",
	authors: [{ name: "CHITUBOX Team" }],
	description: "本节介绍了如何在 CHITUBOX 中添加、编辑和删除列印机。",
	other: {
		pageId: "/zh-TW/chitubox-pro/v2.0.0/printer-configuration",
	},
	openGraph: {
		images: ["/images/docs/og_logo.png"],
	},
};

# 列印機設定

一台列印機可以新增多個「列印配置」，每個配置由「機器」、「樹脂」、「列印」、「高級」四個部分組成。

其中「機器」部分是通用的，作用於當前列印機的所有列印機配置，而「樹脂」、「列印」、「進階」部分是獨立的，您可以單獨設定。

<Entry profileList={["雙擊單個配置文件"]} slicePanel={["切片設置"]} />

## 機器

### 機器名稱

機器名稱是您為列印機配置設定的名稱，可以是任意字元。

### 機器類型

機器類型是您的列印機的型號，每一種機器類型對應固定的列印機解析度、大小和切片格式，需要和您的列印機相匹配，不可修改。

### 鏡像

列印机曝光影像的鏡像模式，包括： Normal，LCD_mirror 和 DLP_normal。

CHITUBOX 內建的機型已經預設了匹配的鏡像模式，您可以根據實際情況選擇適合的鏡像模式。

<Admonition type="note" title="注意">
	少數列印機可能會因螢幕安裝問題導致影像發生鏡像，建議您在開始列印前先戴上紫外線防護眼鏡觀察曝光圖案，對於上拉式 LCD 列印機來說，如果曝光圖案是鏡像的，則列印出的模型就是正常（非鏡像）的。如果曝光圖案是非鏡像的，您需要嘗試其他選項直至找到正確的鏡像模式。
</Admonition>

### 分辨率和大小

解析度指的是列印機在 X、Y 方向上的解析度，單位為像素。大小指的是列印機的列印區域大小，單位為毫米。

### 建構區域偏移

## 樹脂

**樹脂類型** 和 **樹脂名稱** 可以自訂，用於區分不同的樹脂。

填入 **樹脂密度** 和 **樹脂價格** 后， CHITUBOX 可以根據切片體積幫助您估算列印成本。

## 列印

在此設定您的列印參數。

### 參數解釋

<Admonition type="note" title="注意">
	目前僅部分列印機支持 **靜止時間** 等待模式，點擊<Link href="https://wkhvloo2kw.feishu.cn/docx/W9XedDtuqoHK2IxsicvccQthngf">此處</Link>查看機器兼容性表格。
</Admonition>

| 參數             | 説明                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| ---------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| 層厚             | 每列印一層的厚度                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| 底層數           | 起始列印層數。當底層數為 n 時，前 n 層的曝光時間均為底層曝光時間                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| 曝光時間         | 正常列印層的曝光時間                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| 底層曝光時間     | 底層的曝光時間。適當增加底層曝光時間有助於增加列印模型與列印平台的黏結強度                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| 過渡層數         | 底層之後的過渡層數，使各層之間的黏合更緊密。除曝光時間外，過渡層的其他參數與正常層一致                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| 過渡類型         | 設定從底層過渡到正常層時曝光時間的過渡類型                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| 列印過程等待模式 | <em>靜止時間</em><ul><li>抬升前的靜止時間: 列印曝光結束到列印平台開始遠離曝光面的時間間隔</li><li>抬升後的靜止時間: 列印平台列印抬升後開始靜止到開始回程的時間間隔</li><li>回程後的靜止時間: 列印平台運動至列印面開始靜止到開始曝光的時間間隔</li></ul><em>燈滅延遲：</em><br />燈滅延遲等於平台抬升時間、等待時間和回程時間的總時間<ul><li>燈滅延遲: 正常層的燈滅延遲，真正的機器滅燈時間 = max（Z 軸上下移動的總時間， 配置的滅燈延遲）</li><li>底層燈滅延遲: 底層的燈滅延遲，真正的機器滅燈時間 = max（Z 軸上下移動的總時間， 配置的滅燈延遲）</li></ul> |
| 底層擡升距離     | 底層列印過程中，列印平台每次遠離列印面的距離                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| 擡升距離         | 正常層列印過程中，列印平台每次遠離列印面的距離                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| 底層回程距離     | 底層列印過程中，列印平台的回程距離，沒有充足理由的情況下不要改動                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| 回程距離         | 正常層列印過程中，列印平台的回程距離，沒有充足理由的情況下不要改動                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| 底層擡升距離     | 底層列印過程中，列印平台每次遠離列印面的運動速度                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| 擡升速度         | 正常層列印過程中，列印平台每次遠離列印面的運動速度                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| 底層回程速度     | 底層列印過程中，列印平台靠近列印成形面時的運動速度                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| 回程速度         | 正常層列印過程中，列印平台靠近列印成形面時的運動速度                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |

### 二段运动控制 (TSMC)

<Collapse title="Anycubic 用戶須知！">
	從 Anycubic Photon Workshop 而來？小心！

	* 由於 Anycubic Photon Workshop 提供基本和高級設置，而 CHITUBOX 的格式缺少專門的字段來區分它們，因此，對於不相容高級設置的列印機，CHITUBOX 僅顯示基本參數。相反，對於同時支持者的列印機，CHITUBOX 僅顯示進階參數。如果您的列印機支持進階設置，但您不想使用 TSMC 功能，您只需為兩個階段輸入相同的速度，並確保總升降距離與所需距離保持一致。

	* UI 中 TSMC 參數的順序不同。在 Photon Workshop 中，[0] 表示距離螢幕較近的運動階段，而 [1] 表示距離螢幕較遠的階段。然而，CHITUBOX 在版面配置輸入文字方塊時遵循運動順序。一開始這可能會令人困惑。
</Collapse>

列印設定中有兩組抬升和回縮參數，這裡是設定 TSMC 的地方。

當列印平台開始帶著模型升起時，樹脂料槽底部的離型膜會將剛固化的層向下拉，直到脫離，這稱為「吸力效應」。當與離型膜接觸面積較大，且列印平台以較高速度拉開時，吸力效應較為明顯。吸力效應會導致模型變形，甚至導致模型從列印平台上脫落。我們建議保持緩慢的升起速度，直到模型脫離離型膜。當吸力效應不再是問題時，隨後加快升起速度可以提高列印效率。收回階段的原理類似。

您可以調整以下參數以熟悉 TSMC。

<Tsmc />

## 高級

### 光强 PWM

PWM 是 Pulse Width Modulation 的縮寫，即脈寬調變，其原理是透過調整光源在單位時間內的佔空比來控制光源的光強度。

**光强 PWM** 和 **底層光强 PWM** 分別控制列印機普通層和底層的光強度，您可以根據實際情況調整。

### 圖片灰度

圖片灰度控制的是切片影像曝光區域（不含支撐）的灰度，範圍是 0 到 255，數值越大越接近白色，數值越小越接近黑色。

對於 LCD 列印機來說，切片影像曝光區域越白，透光率越高。對於 DLP 列印機來說，切片影像曝光區域越白，光強度越高。

<ImageGray />

### 抗鋸齒

抗鋸齒主要有兩種模式： **灰階抗鋸齒** 和 **等級抗鋸齒**。

#### 灰階抗鋸齒

灰階抗鋸齒透過對切片圖像邊緣進行灰階羽化處理，以減少鋸齒現象。適用於 LCD 列印機。

##### 灰階範圍

灰階範圍是灰度值 0 到 255 的一個可訂區間，該區間限制了圖像模糊對曝光範圍邊緣羽化時可使用的灰階值範圍。

##### 圖像模糊

圖像模糊的範圍是 2 到 8，數值越大，曝光區域的邊緣羽化越明顯。

#### 抗鋸齒等級（遺留）

等級抗鋸齒是透過對切片圖像邊緣進行多次短時曝光來減少鋸齒現象。僅適用於早期支持 cbddlp 的列印機，不支持其他格式。

### 縮放補償

缩放补偿的原理上與缩放模型相似，但它作用於当前的配置而非特定的模型。避免了在切換不同列印機或配置時，需要手動修改模型大小的麻煩。

缩放补偿使用百分比表示相對於原始尺寸的缩放比例。預設值为 100%。百分比数值越大，模型越大；百分比数值越小，模型越小。

### 公差補償

**公差補償** 和 **底層公差補償** 分別控制列印機普通層和底层的公差。通常用於解決螺栓、螺母、榫卯結構等工件的契合度問題。底層公差補償主要用於解決底層长時間曝光導致的「大象腿」問題。

公差补偿的原理是將每一層曝光圖像標注出內徑 (a) 和外徑 (b)，然後根據公差补偿值調整內徑和外徑的大小。

a 值為正數時，內孔空間縮小，a 值為負數時，内孔空間擴大。

b 值為正數時，周長擴大，b 值為負數時，周長縮小。

<Admonition type="note" title="注意">
	* 當禁用底層公差補償時，普通層公差補償將對整個模型生效。
	* 公差補償的原理是對每一層曝光圖進行內外徑檢測而非對 3D 模型進行膨脹或縮水操作，因此要求您的模型切片圖不能存在內外徑突變的情況（在某一高度外徑變為內徑或內徑變為外徑）。例如一根垂直的管狀結構中間有一個橫向的孔，就會導致切片圖在這個高度發生內徑變外徑的情況。
	* 底層公差補償僅作用於底層，當過渡層和底層公差補償同時啟用時，列印結果可能不如預期。 
	<div className="flex">
		<div className="flex-1 flex justify-center">
			<img
				src={
					"/images/docs/en-US/chitubox-basic/2.x.x/009-configure-print-parameters-transition_layers.png"
				}
			/>
		</div>
		<div className="flex-1 flex justify-center">
			<img
				src={
					"/images/docs/en-US/chitubox-basic/2.x.x/009-configure-print-parameters-tc.png"
				}
			/>
		</div>
		<div className="flex-1 flex justify-center">
			<img
				src={
					"/images/docs/en-US/chitubox-basic/2.x.x/009-configure-print-parameters-tc_transition_layers.png"
				}
			/>
		</div>
	</div>
	<div className="flex text-gray-500 text-sm">
		<div className="flex-1 text-center">僅設定過渡層</div>
		<div className="flex-1 text-center">僅開啓底部公差補償</div>
		<div className="flex-1 text-center">同時啟用過渡層與底層公差補償</div>
	</div>
</Admonition>

### 層列印時間補償

一些高解析度列印機在加載數據時可能會產生額外的延遲，這將導致列印時間預估不准確。您可以設置時間補償來改善這個問題。

-   手動輸入

    每層列印時間補償：一個 2 位數，範圍在 `-99.99` 到 `99.99` 之間，默認為 `0` 秒。
    當啟用時間補償時，單層預計時間 = 曝光時間 + 等待時間 + 移動時間 + 每層列印時間補償

-   自動生成

    <ImageContainer
    	src={
    		"/images/docs/zh-CN/chitubox-pro/2.x.x/014-slice-settings-print-time-compensation.png"
    	}
    />

	$$\text{層列印時間補償} = \frac{\text{實際列印時間} - \text{軟件預估列印時間}}{\text{層數}}$$

### 蒙板

蒙版是為了改善螢幕上不同位置的光強不均勻的問題，其目的是透過調整螢幕不同區域的透光率，從而提供一層修正層，使得原本不均勻的光源變得均勻。

_蒙版文件_：您可以點擊 `...` 圖標來選擇現有的文件，或者點擊齒輪圖標以使用 CHITUBOX 內置的 <Link href="#蒙版生成器">蒙版生成器</Link> 來生成一張蒙版圖片。

_灰度單位_：點擊 <Link href="#灰度單位">此處</Link> 了解灰度單位。

#### 蒙版生成器

CHITUBOX 的模板生成器支持兩種模式：**中心輻射** 和 **矩陣模式**。

##### 中心輻射

**中心輻射** 生成類似漣漪的圖案，圈數由**等分數量**設定。圓圈半徑呈等分數列遞增，遞增量由**等分半徑**設定。

**灰度參數** 的範圍为 `0` (黑) 到 `255` (白)。

<ImageContainer
	src={
		"/images/docs/zh-CN/chitubox-pro/2.x.x/014-slice-settings-hub-and-spoke.png"
	}
/>

舉個例子，如果 **等分數量** 設爲 5，**等分半徑**設為 3 毫米，則漣漪圖案的半徑為

$$ 5 \times 3 = 15 \text{mm}$$

下圖為不同**等分半徑**的對比圖：

<div className="max-w-screen-sm">
	<ImageComparison
		img1Src={
			"/images/docs/zh-CN/chitubox-pro/1.x.x/004-setting-up-configure-printer-parameters004.equal_radius_1.png"
		}
		text1={"等分數量設為 5, 等分半徑設為 1mm"}
		img2Src={
			"/images/docs/zh-CN/chitubox-pro/1.x.x/004-setting-up-configure-printer-parameters004.equal_radius_3.png"
		}
		text2={"等分數量設為 5, 等分半徑設為 3mm"}
	/>
</div>

##### 矩陣模式

**矩陣模式** 生成一個矩陣形狀的圖。行和列分別由 `m` 和 `n` 分别設定。
**灰度參數** 的範圍為 `0` (黑) 到 `255` (白)。

舉個例子，下圖為一個由不同灰度組成的 2 × 3 矩陣。

<ImageContainer
	src={
		"/images/docs/zh-CN/chitubox-pro/2.x.x/014-slice-settings-matrix-mode.png"
	}
/>

<ImageContainer
	src={
		"/images/docs/zh-CN/chitubox-pro/1.x.x/004-setting-up-configure-printer-parameters004.2x3_matrix.png"
	}
	style={{ maxWidth: "350px" }}
/>

#### 灰度單位

**灰度單位** 的原理是在 X 軸方向上對指定數量像素的灰度取平均值並應用到對應的像素上。

舉個例子：

假設列印平台的尺寸是 80mm × 120mm，屏幕的分辨率為 800px × 1200px。

下圖為蒙版圖，分辨率也是 800px × 1200px。其中所有的小方塊的分辨率均為 50px × 50px。

<ImageContainer
	src={
		"/images/docs/zh-CN/chitubox-pro/1.x.x/004-setting-up-configure-printer-parameters004.3.png"
	}
	style={{ width: 400 }}
/>

如果將 **灰度單位** 設爲 51px, 則處理后的圖像將如下圖所示：

<ImageContainer
	src={
		"/images/docs/zh-CN/chitubox-pro/1.x.x/004-setting-up-configure-printer-parameters004.4.png"
	}
	style={{ width: 400 }}
/>

灰度從左到右逐漸變灰，這是因為原圖上的每 51 個像素灰度被平均了。

考慮第一行的情况。第一組 51 像素的灰度是 50 個黑像素和 1 個白像素的平均值，因此結果會比黑色略淺一點點，雖然這個改变几乎肉眼不可見。第二組 51 像素的灰度是 49 個白像素和 2 個黑像素的平均值，因此結果會比白色略暗一點點。第三組 51 像素的灰度是 48 個黑像素和 3 個白像素的平均值，依此類推，直到剩下的餘數 35 個白像素。

$$\frac{800}{51} = 15$$，餘數 35

這個部分則由它们自己取平均值，因此灰度沒有变化。
